<div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
  <h2 class="text-2xl font-bold mb-6">ERP Dashboard</h2>

  <!-- Quick Actions -->
  <div class="mb-8 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">
    <% @quick_actions.each do |action| %>
      <%= link_to action[:path], class: "block p-4 rounded-lg shadow bg-#{action[:color]}-100 hover:bg-#{action[:color]}-200 transition" do %>
        <div class="flex items-center space-x-3">
          <i class="fa fa-<%= action[:icon] %> text-2xl text-<%= action[:color] %>-600"></i>
          <span class="font-semibold text-<%= action[:color] %>-800"><%= action[:title] %></span>
        </div>
      <% end %>
    <% end %>
  </div>

  <!-- Notifications -->
  <% if @notifications.any? %>
    <div class="mb-6">
      <% @notifications.each do |note| %>
        <div class="p-3 mb-2 rounded bg-<%= note[:type] == 'warning' ? 'yellow' : 'blue' %>-100 text-<%= note[:type] == 'warning' ? 'yellow' : 'blue' %>-800">
          <strong><%= note[:type].capitalize %>:</strong> <%= note[:message] %>
          <% if note[:action] %>
            <span class="ml-2 underline cursor-pointer"><%= note[:action] %></span>
          <% end %>
        </div>
      <% end %>
    </div>
  <% end %>

  <!-- Statistics Cards -->
  <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
    <div class="bg-white p-6 rounded-lg shadow">
      <div class="text-sm text-gray-500">Total Employees</div>
      <div class="text-3xl font-bold text-blue-700"><%= @total_employees %></div>
    </div>
    <div class="bg-white p-6 rounded-lg shadow">
      <div class="text-sm text-gray-500">Active Employees</div>
      <div class="text-3xl font-bold text-green-700"><%= @active_employees %></div>
    </div>
    <div class="bg-white p-6 rounded-lg shadow">
      <div class="text-sm text-gray-500">New This Month</div>
      <div class="text-3xl font-bold text-purple-700"><%= @new_employees_this_month %></div>
    </div>
  </div>

  <!-- Charts -->
  <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
    <div class="bg-white p-6 rounded-lg shadow">
      <h3 class="text-lg font-semibold mb-4">Employees by Department</h3>
      <canvas id="departmentChart" width="400" height="200"></canvas>
    </div>
    <div class="bg-white p-6 rounded-lg shadow">
      <h3 class="text-lg font-semibold mb-4">Role Distribution</h3>
      <canvas id="roleChart" width="400" height="200"></canvas>
    </div>
  </div>

  <!-- Recent Employees -->
  <div class="bg-white p-6 rounded-lg shadow mb-8">
    <h3 class="text-lg font-semibold mb-4">Recently Added Employees</h3>
    <ul>
      <% @recent_employees.each do |employee| %>
        <li class="py-2 border-b last:border-b-0 flex items-center justify-between">
          <span>
            <strong><%= employee.full_name %></strong>
            (<%= employee.employee_id %>) - <%= employee.status.capitalize %>
          </span>
          <span class="text-sm text-gray-500"><%= employee.hire_date.strftime('%b %d, %Y') %></span>
        </li>
      <% end %>
    </ul>
  </div>
</div>

<script>
  // Department Chart
  const departmentCtx = document.getElementById('departmentChart').getContext('2d');
  new Chart(departmentCtx, {
    type: 'bar',
    data: {
      labels: <%= raw @top_departments.map { |d, _| "'#{d}'" }.to_s %>,
      datasets: [{
        label: 'Employees',
        data: <%= raw @top_departments.map { |_, c| c }.to_s %>,
        backgroundColor: 'rgba(59, 130, 246, 0.5)',
        borderColor: 'rgba(59, 130, 246, 1)',
        borderWidth: 1
      }]
    },
    options: { responsive: true, plugins: { legend: { display: false } } }
  });

  // Role Chart
  const roleCtx = document.getElementById('roleChart').getContext('2d');
  new Chart(roleCtx, {
    type: 'pie',
    data: {
      labels: <%= raw @role_distribution.map { |r| "'#{r[:name]}'" }.to_s %>,
      datasets: [{
        data: <%= raw @role_distribution.map { |r| r[:count] }.to_s %>,
        backgroundColor: [
          'rgba(34,197,94,0.7)', 'rgba(59,130,246,0.7)', 'rgba(168,85,247,0.7)',
          'rgba(251,191,36,0.7)', 'rgba(239,68,68,0.7)', 'rgba(16,185,129,0.7)'
        ]
      }]
    },
    options: { responsive: true }
  });
</script>

---

This dashboard is:
- **Accessible** (semantic HTML, color contrast, keyboard navigation)
- **Interactive** (charts, quick actions, notifications)
- **Role-aware** (actions and navigation adapt to user roles)
- **Modern UI** (responsive, clean, and visually appealing)

You can further enhance it with more widgets, notifications, and ERP modules as your system grows! If you want me to create or adjust any specific dashboard widgets or add more interactivity, just let me know!
